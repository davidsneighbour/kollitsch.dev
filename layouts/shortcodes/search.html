<script src="/search/pagefind-ui.js" type="text/javascript"></script>
{{- $config := site.Params.dnb.shortcodes.pagefind -}}
{{- $configPrepared := dict
      "baseUrl" ($config.baseurl | compare.Default "/")
      "element" ($config.element | compare.Default "#pagefind")
      "resetStyles" ($config.resetstyles | compare.Default false)
      "bundlePath" ($config.bundlepath | compare.Default "/search/")
      "debounceTimeoutMs" ($config.debouncetimeoutms | compare.Default 500)
      "pageSize" ($config.pagesize | compare.Default 9)
      "highlightParam" ($config.highlightparam | compare.Default "highlight")
      "showImages" ($config.showimages | compare.Default true)
      "autofocus" ($config.autofocus | compare.Default true)
}}
<div id="pagefind"></div>
<script>
  window.addEventListener("DOMContentLoaded", (event) => {
    new PagefindUI({{ $configPrepared | encoding.Jsonify | safe.JS }});
  });
</script>
