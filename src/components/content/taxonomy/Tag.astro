---
import { Icon } from "astro-icon/components";
import type { TagIcon } from "@utils/tags.ts";

export interface Props {
  href: string;
  label: string;
  dataLabel: string;
  icon?: TagIcon | string;
}

const { href, label, dataLabel, icon } = Astro.props;
const iconConfig: TagIcon | undefined =
  typeof icon === "string" ? { name: icon } : icon;
const iconName = iconConfig?.name;
const iconColor = iconConfig?.color;
---

<a
  class="
    inline-flex items-center gap-1
    m-1 px-2 py-1
    rounded-md
    dark:bg-red-400/10 dark:text-red-400/90
    bg-red-400/5 text-red-400
    dark:hover:bg-red-400/20 dark:hover:text-red-400
    hover:bg-red-400/20 hover:text-red-400
    inset-ring inset-ring-red-400/20"
  href={href}
  data-label={dataLabel}
>
  {
    iconName && (
      <Icon
        name={iconName}
        class="text-sm"
        style={iconColor ? `color: ${iconColor};` : undefined}
      />
    )
  }
  {label}
</a>
