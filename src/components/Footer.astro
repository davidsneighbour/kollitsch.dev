---
// @todo refactor

// Import site information from the correct relative path
import siteInfo from '@data/site.json';
import { getHomepageUrl } from '@utils/getHomepageUrl';
import { generateUniqueHtmlId } from '@utils/helpers';
import navData from '@data/navigation.json';

const footerYearId = generateUniqueHtmlId();
const currentYear = new Date().getFullYear();
---

<section class="mt-8 py-8 border-t-1 border-t-slate-700 bg-gray-50 dark:bg-stone-900">
  <footer class="z-0 mx-auto max-w-full lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl
                  mt-8">
    <div class="mb-12 flex flex-row justify-between gap-8">
      <div>
        <h3 class="mb-4 text-xl">About</h3>
        <p>
          Personal website showcasing my work, thoughts, and contact
          information. Built with Astro, React, and TailwindCSS.
        </p>
      </div>

      <div>
        <h3 class="mb-4 text-xl">Navigation</h3>
        <ul class="space-y-2">
          {
            navData.map(value => (
              <li>
                <a href={value.link} class="">
                  {value.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <div>
        <h3 class="mb-4 text-xl">Connect</h3>
        <ul class="space-y-2">
          <li>
            <a
              href="https://twitter.com/"
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center"
            >
              <span class="mr-2">Twitter</span>
            </a>
          </li>
          <li>
            <a
              href="https://github.com/"
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center"
            >
              <span class="mr-2">GitHub</span>
            </a>
          </li>
          <li>
            <a
              href="https://linkedin.com/"
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center"
            >
              <span class="mr-2">LinkedIn</span>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div class="flex flex-row items-center justify-between border-t border-gray-800 pt-6">
      <span>&copy; <span id={footerYearId}>{currentYear}</span> <a href={getHomepageUrl()}>{siteInfo.title}</a></span>
      <span>All rights reserved.</span>
      <span>Webwork done by <a href="https://davids-neighbour.com/">David's Neighbour</a></span>
    </div>

  </footer>
</section>

<script is:inline>
  document.getElementById("${footerYearId}").innerText = new Date().getFullYear();
</script>
