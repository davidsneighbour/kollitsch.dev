---
import { getOpenGraphImage } from '@utils/opengraph';

interface Props extends PostProp<'blog'> {}
const { post }: Props = Astro.props;

const openGraphImage = await getOpenGraphImage(post);
const twitterOpenGraphImage = await getOpenGraphImage(post, {
  width: 1200,
  height: 675,
});
---

<meta
  property="og:title"
  content={post.data.title || 'missing'}
/>
<meta
  property="og:type"
  content="website"
/>
<meta
  property="og:url"
  content={Astro.url}
/>
<meta
  property="og:description"
  content={post.data.description || 'missing'}
/>
<meta
  property="og:image"
  content={Astro.url + 'og.png'}
/>
<meta
  property="og:image:width"
  content={String(openGraphImage.options.width)}
/>
<meta
  property="og:image:height"
  content={String(openGraphImage.options.height)}
/>
<meta
  property="twitter:card"
  content="summary_large_image"
/>
<meta
  property="twitter:title"
  content={post.data.title || 'missing'}
/>
<meta
  property="twitter:url"
  content={Astro.url}
/>
<meta
  property="twitter:description"
  content={post.data.description || 'missing'}
/>
<meta
  property="twitter:image"
  content={twitterOpenGraphImage.src}
/>
<meta
  property="twitter:image:width"
  content={String(twitterOpenGraphImage.options.width)}
/>
<meta
  property="twitter:image:height"
  content={String(twitterOpenGraphImage.options.height)}
/>
