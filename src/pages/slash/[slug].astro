---
// for /blog/1/, /blog/2/, /blog/3/ (pagination)

import BlogPost from '@components/BlogPost.astro';
import Layout from '@layouts/MarkdownPage.astro';
import { getCollection } from 'astro:content';

import type { CollectionEntry } from 'astro:content';
export interface Props {
  post: CollectionEntry<'blog'>;
}
const { post } = Astro.props;

export const getStaticPaths = async () => {
  const allPosts = await getCollection('slash');
  return allPosts
    .map(post => {
      return {
        params: { slug: post.id },
        props: { post },
      };
    })
    .filter(Boolean);
};

---

<Layout post={post}>
  <BlogPost post={post} />
</Layout>
