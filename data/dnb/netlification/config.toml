[csp]
reportOnly = false
reportUri = "https://kollitschdev.report-uri.com/r/d/csp/reportOnly"

#require-trusted-types-for = ["'script'"]
upgradeInsecureRequests = true
base-uri = ["'self'"]
defaultSrc = ["'none'"]
script-src = [
  "'self'",
  "'unsafe-eval'",
  "'unsafe-inline'",
  #"'strict-dynamic'",
  "https://d33wubrfki0l68.cloudfront.net",
  "https://giscus.app/",
  'https://unpkg.com',
  "https://identity.netlify.com",
  "'nonce-dnb-components-sw'",
  "static.cloudflareinsights.com"
]
style-src = [
  "'self'",
  "'unsafe-inline'",
  "https://d33wubrfki0l68.cloudfront.net",
  "https://giscus.app/"
]
img-src = [
  "'self'",
  "https://d33wubrfki0l68.cloudfront.net",
  "data:",
  "https://i.ytimg.com",
]
font-src = ["'self'", "https://d33wubrfki0l68.cloudfront.net"]
connect-src = ["'self'", "https://api.github.com/", 'cloudflareinsights.com']
media-src = ["'self'"]
object-src = ["'none'"]
child-src = ["'self'"]
frame-src = [
  "'self'",
  "https://giscus.app/",
  "https://www.youtube-nocookie.com",
]
worker-src = ["'self'"]
form-action = ["'self'", "https://formspree.io/f/xoqyzooe"]
manifest-src = ["'self'"]

[[redirects]]
netlify = "https://kollitsch-dev.netlify.app"

[[redirects]]
from = "https://main--kollitsch.netlify.app/"
to = "/"
status = 301

[[redirects]]
from = "https://kollitsch.de/"
to = "https://kollitsch.dev/"
status = 301

[[redirects]]
from = "http://kollitsch.de/"
to = "https://kollitsch.dev/"
status = 301

[[redirects]]
from = "/repos/*"
to = "/"

[[redirects]]
from = "/[2005|2006|2007|2008]/*"
to = "/"
