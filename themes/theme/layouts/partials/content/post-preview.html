{{- $post := .context -}}
{{- $articleclasses := partials.IncludeCached "func/getArticleClasses.html" $post $post -}}
{{- $package := partials.IncludeCached "func/getPackageFile.html" $post $post -}}
<article class="{{- $articleclasses -}}">

	<div class="post-slider">
		<figure>
			<picture>
			{{- $options := dict -}}
			{{- if collections.IsSet $package "version" }}
				{{- $options = dict
					"tagline" page.Params.sectiontitle
					"title" ($post.LinkTitle | strings.ToUpper)
					"subtitle" (fmt.Printf "v%s" $package.version) -}}
			{{- else -}}
				{{- $options = dict
					"tagline" page.Params.sectiontitle
					"title" ($post.LinkTitle | strings.ToUpper) -}}
			{{- end -}}
			{{- partials.Include "documentation/headerimage.html" $options $options -}}
			</picture>
		</figure>
	</div>
  <div class="prose">
		<p class="text-truncate text-truncate-3">
			{{- with $post.Summary -}}
				{{- . | transform.Markdownify -}}
			{{- else -}}
				{{- with $post.Description -}}
					{{- . | transform.Markdownify -}}
				{{- else -}}
					{{- $post.Content | transform.Plainify | strings.Truncate 200 -}}
				{{- end -}}
			{{- end -}}
		</p>
  </div>
	<div class="text-end">
		<a href="{{- $post.Permalink -}}" class="stretched-link" aria-label="{{- lang.Translate "theme.read_article" -}}: {{ $post.Title -}}">
			{{- lang.Translate "theme.read_article" -}}
			<span class="ps-2">
				{{- partials.Include "icon.html" "body-text" -}}
			</span>
		</a>
  </div>
</article>
