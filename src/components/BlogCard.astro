---
// @todo refactor
export interface Props {
  title: string;
  description: string;
  date: string;
  url: string;
  image?: string;
}

const {
  title,
  description,
  date,
  url,
  image = 'https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&w=800',
} = Astro.props;

// Format date
const formattedDate = new Date(date).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});

---

<article class="card group flex h-full flex-col overflow-hidden">
  <a href={url} class="block overflow-hidden">
    <div class="relative h-48 overflow-hidden">
      <img
        src={image}
        alt={title}
        class="h-full w-full transform object-cover transition-transform duration-300 group-hover:scale-105"
      />
      <div
        class="bg-primary-600 absolute bottom-0 left-0 px-3 py-1 text-xs font-semibold text-white"
      >
        {formattedDate}
      </div>
    </div>
  </a>
  <div class="flex flex-1 flex-col p-6">
    <h3 class="group-hover:text-primary-600 mb-2 text-xl transition-colors">
      <a href={url}>{title}</a>
    </h3>
    <p class="mb-4 flex-grow text-gray-600">{description}</p>
    <a
      href={url}
      class="text-primary-600 hover:text-primary-800 inline-flex items-center font-medium transition-colors"
    >
      Read More
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="ml-1 h-4 w-4"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z"
          clip-rule="evenodd"></path>
      </svg>
    </a>
  </div>
</article>
