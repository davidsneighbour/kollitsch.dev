---
import { Icon } from 'astro-icon/components';
import type { HTMLAttributes } from 'astro/types';
import type { IconName } from '@utils/icon-names';

type IconPosition = 'prefix' | 'postfix';

export interface Props extends HTMLAttributes<'a'> {
  icon: IconName;
  type?: IconPosition;
  linkClass?: string;
  class?: string;
  translate?: 'yes' | 'no';
}

const {
  type = 'prefix',
  icon,
  class: iconClass = '',
  linkClass = '',
  ...allAttrs
}: Props = Astro.props;

const hasSlot = !!Astro.slots.default;
---

<a
  class={`flex items-center gap-2 ${linkClass}`}
  {...allAttrs}
>
  {
    type === 'prefix' && (
      <Icon
        name={icon}
        class={iconClass}
      />
    )
  }
  {
    hasSlot && (
      <span>
        <slot />
      </span>
    )
  }
  {
    type === 'postfix' && (
      <Icon
        name={icon}
        class={iconClass}
      />
    )
  }
</a>
