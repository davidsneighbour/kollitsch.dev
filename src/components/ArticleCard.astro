---
import type { CollectionEntry } from 'astro:content';

import SchemaBlogPost from '@components/schema/BlogPosting.astro';
import PostImage from '@components/PostImage.astro';
import Button from '@components/Button.astro';

export interface Props {
  post: CollectionEntry<'blog'>;
}
const { post } = Astro.props;
---

<article
  class="relative isolate flex flex-col justify-normal rounded-(--card-radius) bg-zinc-100 p-(--card-padding) ring-1 ring-gray-900/10 [--card-padding:--spacing(1)] [--card-radius:var(--radius-2xl)] ring-inset hover:bg-zinc-100/90 dark:bg-zinc-900 dark:ring-gray-100/10 dark:hover:bg-zinc-900/90"
>
  <PostImage
    post={post}
    classes="flex-none max-w-full aspect-2/1 object-cover rounded-t-[calc(var(--card-radius)-var(--card-padding))]"
  />

  <div class="flex max-w-xl grow flex-col justify-start p-4">
    <h2 class="mt-0 flex-none">
      <a
        class="line-clamp-2"
        href={`/${post.collection}/${post.id}/`}
        set:html={post.data.title}
      />
    </h2>
    <p
      class="line-clamp-3"
      set:html={post.data.summary}
    />
  </div>
  <div class="flex-none px-4 pb-4 text-right">
    <Button
      theme="primary"
      outline
      name="arrow-right"
      href={`/${post.collection}/${post.id}/`}
      class="justify-self-end"
      >Read more...</Button
    >
  </div>
</article>
<SchemaBlogPost post={post} />
